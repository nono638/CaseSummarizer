# Chunking Configuration for Intelligent Document Processing
# CRITICAL: All keys must match exactly what chunking_engine.py and progressive_summarizer.py expect

chunking:
  # Required: Path to regex patterns file (relative to config directory)
  patterns_file: "chunking_patterns.txt"

  # Chunk sizing - REQUIRED KEYS (DO NOT RENAME)
  min_chunk_words: 500              # Minimum words per chunk
  max_chunk_words: 1500             # Target maximum words per chunk
  max_chunk_words_hard_limit: 3000  # Absolute hard limit - chunk will never exceed this

  # Progressive summary batching
  base_batch_frequency: 5           # Summarize every N chunks
  batching_strategy: "section_aware" # "section_aware" or "adaptive"

  # Adaptive batching fallback
  early_batch_size: 5     # Chunks 1-20: batch every 5
  middle_batch_size: 10   # Chunks 20-80: batch every 10
  late_batch_size: 5      # Chunks 80+: batch every 5

  # Context window configuration
  include_global_summary: true      # Include summary of all previous chunks
  include_local_summary: true       # Include summary of immediately preceding chunk
  global_summary_max_sentences: 2   # Max sentences for global context
  local_summary_max_sentences: 2    # Max sentences for local context

  # Paragraph detection method
  paragraph_detection: "double_newline"  # Split on blank lines
  preserve_blank_lines: false       # Remove extra blank lines

  # Summary quality constraints
  min_summary_words: 50
  max_summary_words: 200

  # Debug/logging
  log_chunking_analysis: true
  log_context_generation: true
  save_chunks_dataframe: true
